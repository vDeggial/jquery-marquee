!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.fn.marquee=function(n){return this.each(function(){function t(e,n,t){for(var i=["webkit","moz","MS","o",""],a=0;a<i.length;a++)i[parseInt(a,10)]||(n=n.toLowerCase()),e.addEventListener(i[parseInt(a,10)]+n,t,!1)}function i(e){return JSON.stringify(e).replace(/\"/g,"")}function a(e,n,t,i){t=t||"",i=i||"";var a={property:"",value:""};return a.property=e,n=t.concat(n,i),a.value=n,a}function r(e,n){n=n||!1;var t=L.animation.cssAnimationSupport?n?a("transform",e,"translateY(",")"):a("transform",e,"translateX(",")"):n?a("margin-top",e):a("margin-left",e),i=t.property;e=t.value;var r={};return r[i]=e,r}function o(e,n,t){t=t||!1;var i=L.animation.cssAnimationSupport?t?a("transform",n,"translateY(",")"):a("transform",n,"translateX(",")"):t?a("margin-top",n):a("margin-left",n);e.css(i.property,i.value)}function s(){L.animation.css&&(L.animation.cssAnimationName=L.animation.cssAnimationName+"0",L.animation.cssKeyframeString=e.trim(L.animation.cssKeyframeString)+"0 ",L.animation.css=L.animation.cssAnimationName+" "+M.duration/1e3+"s 0s infinite "+M.css3easing)}function p(){L.animation.css&&(L.animation.css=L.animation.cssAnimationName+" "+M.duration/1e3+"s "+M.delayBeforeStart/1e3+"s "+M.css3easing)}function c(){M.duration=M._completeDuration,s()}function u(){M.duration=M._originalDuration,s()}function m(){o(L.outerWrapper.element,"up"===M.direction?L.container.height+"px":"-"+L.innerWrapper.height+"px",!0)}function l(){o(L.outerWrapper.element,"left"===M.direction?L.container.width+"px":"-"+L.innerWrapper.width+"px")}function d(){switch(M.duplicated){case!0:1===L.animation.loopCounter?(M._originalDuration=M.duration,L.isVertical?M.duration="up"===M.direction?M.duration+L.container.height/(L.innerWrapper.height/M.duration):2*M.duration:M.duration="left"===M.direction?M.duration+L.container.width/(L.innerWrapper.width/M.duration):2*M.duration,L.animation.css&&(L.animation.css=L.animation.cssAnimationName+" "+M.duration/1e3+"s "+M.delayBeforeStart/1e3+"s "+M.css3easing),L.animation.loopCounter++):2===L.animation.loopCounter&&(u(),L.animation.loopCounter++)}}function f(){switch(!0){case M.duplicated:L.animation.loopCounter>2&&o(L.outerWrapper.element,"up"===M.direction?0:"-"+L.innerWrapper.height+"px",!0),L.outerWrapper.animationCss=r("up"===M.direction?"-"+L.innerWrapper.height+"px":0,!0);break;case M.startVisible:switch(L.animation.loopCounter){case 2:p(),L.outerWrapper.animationCss=r("up"===M.direction?"-"+L.innerWrapper.height+"px":L.container.height+"px",!0),L.animation.loopCounter++;break;case 3:c(),m()}break;default:m(),L.outerWrapper.animationCss=r("up"===M.direction?"-"+L.outerWrapper.element.height()+"px":L.container.height+"px",!0)}}function h(){switch(!0){case M.duplicated:L.animation.loopCounter>2&&o(L.outerWrapper.element,"left"===M.direction?0:"-"+L.innerWrapper.width+"px"),L.outerWrapper.animationCss=r("left"===M.direction?"-"+L.innerWrapper.width+"px":0);break;case M.startVisible:switch(M.duration=M._originalDuration,L.animation.loopCounter){case 2:p(),L.outerWrapper.animationCss=r("left"===M.direction?"-"+L.innerWrapper.width+"px":L.container.width+"px"),L.animation.loopCounter++;break;case 3:c(),l()}break;default:l(),L.outerWrapper.animationCss=r("left"===M.direction?"-"+L.innerWrapper.width+"px":L.container.width+"px")}}function g(){switch(d(),L.isVertical){case!0:f();break;default:h()}}function W(){switch(L.animation.cssAnimationSupport){case!0:L.outerWrapper.element.css(L.animation.cssAnimationString,L.animation.css);var n=L.animation.cssKeyframeString+" { 100%  "+i(L.outerWrapper.animationCss)+"}",a=L.outerWrapper.element.find("style");0!==a.length?a.filter(":last").html(n):e("head").append("<style>"+n+"</style>"),t(L.outerWrapper.element[0],"AnimationIteration",function(){L.container.element.trigger("finished")}),t(L.outerWrapper.element[0],"AnimationEnd",function(){w(),L.container.element.trigger("finished")});break;default:L.outerWrapper.element.animate(L.outerWrapper.animationCss,M.duration,M.easing,function(){L.container.element.trigger("finished"),M.pauseOnCycle?S():w()})}}function w(){g(),L.container.element.trigger("beforeStarting"),W(),L.container.element.data("runningStatus","resumed")}function S(){L.container.element.timer=setTimeout(w,M.delayBeforeStart)}function y(){var n;e.each(M,function(e){if(n=L.container.element.attr("data-"+e),"undefined"!=typeof n){switch(n){case"true":n=!0;break;case"false":n=!1}M[e]=n}})}function A(){switch(L.container.height=L.container.element.height(),L.outerWrapper.element.removeAttr("style"),L.container.element.height(L.container.height),L.container.element.find(".js-marquee").css({"float":"none","margin-bottom":M.gap,"margin-right":0}),M.duplicated){case!0:L.container.element.find(".js-marquee:last").css({"margin-bottom":0})}switch(L.innerWrapper.height=L.container.element.find(".js-marquee:first").height()+M.gap,M.startVisible&&!M.duplicated){case!0:M._completeDuration=(parseInt(L.innerWrapper.height,10)+parseInt(L.container.height,10))/parseInt(L.container.height,10)*M.duration,M.duration=parseInt(L.innerWrapper.height,10)/parseInt(L.container.height,10)*M.duration;break;case!1:M.duration=(parseInt(L.innerWrapper.height,10)+parseInt(L.container.height,10))/parseInt(L.container.height,10)*M.duration}}function C(){switch(L.innerWrapper.width=L.container.element.find(".js-marquee:first").width()+M.gap,L.container.width=L.container.element.width(),M.startVisible&&!M.duplicated){case!0:M._completeDuration=(parseInt(L.innerWrapper.width,10)+parseInt(L.container.width,10))/parseInt(L.container.width,10)*M.duration,M.duration=parseInt(L.innerWrapper.width,10)/parseInt(L.container.width,10)*M.duration;break;case!1:M.duration=(parseInt(L.innerWrapper.width,10)+parseInt(L.container.width,10))/parseInt(L.container.width,10)*M.duration}}function b(){if(M.allowCss3Support){var e=document.body||document.createElement("div");L.animation.cssAnimationName="marqueeAnimation-"+Math.floor(1e4*Math.random());var n="Webkit Moz O ms Khtml".split(" ");if("undefined"!=typeof e.style.animation&&(L.animation.cssKeyframeString="@keyframes "+L.animation.cssAnimationName+" ",L.animation.cssAnimationSupport=!0),L.animation.cssAnimationSupport===!1)for(var t=0;t<n.length;t++)if("undefined"!=typeof e.style[n[parseInt(t,10)]+"marquee.animation.cssAnimationName"]){var i="-"+n[t].toLowerCase()+"-";L.animation.cssAnimationString=i+L.animation.cssAnimationString,L.animation.cssPlayState=i+L.animation.cssPlayState,L.animation.cssKeyframeString="@"+i+"keyframes "+L.animation.cssAnimationName+" ",L.animation.cssAnimationSupport=!0;break}L.animation.cssAnimationSupport&&(L.animation.css=L.animation.cssAnimationName+" "+M.duration/1e3+"s "+M.delayBeforeStart/1e3+"s infinite "+M.css3easing,L.container.element.data("css3AnimationIsSupported",!0))}}function v(){switch(!0){case M.duplicated:switch(L.isVertical){case!0:M.startVisible?o(L.outerWrapper.element,0,!0):o(L.outerWrapper.element,"up"===M.direction?L.container.height+"px":"-"+(2*L.innerWrapper.height-M.gap)+"px",!0);break;default:M.startVisible?o(L.outerWrapper.element,0):o(L.outerWrapper.element,"left"===M.direction?L.container.width+"px":"-"+(2*L.innerWrapper.width-M.gap)+"px")}L.animation.loopCounter=M.startVisible?L.animation.loopCounter:1;break;case M.startVisible:L.animation.loopCounter=2;break;default:L.isVertical?m():l()}}function I(){switch(L.isVertical){case!0:A();break;case!1:C()}}function x(){var n=0;return L.container.element.children().first().children().each(function(){n+=e(this).outerWidth(!0)}),n}function k(){L.container.element.wrapInner("<div class='js-marquee'></div>"),L.innerWrapper.element=L.container.element.find(".js-marquee"),L.innerWrapper.element.css({"margin-right":M.gap,"float":"left"}),M.duplicated&&L.innerWrapper.element.clone(!0).appendTo(L.container.element)}function q(){L.outerWrapper.width=x(),L.outerWrapper.width+=L.container.element.width()+1e3,M.duplicated&&(L.outerWrapper.width*=2),L.container.element.wrapInner("<div class='js-marquee-wrapper'></div>"),L.outerWrapper.element=L.container.element.find(".js-marquee-wrapper"),L.outerWrapper.element.css("will-change","transform"),L.outerWrapper.element.css("width",L.outerWrapper.width+"px")}function V(){k(),q()}function j(){M.speed&&(M.duration=parseInt(L.container.element.width(),10)/M.speed*1e3)}function N(){L.isVertical="up"===M.direction||"down"===M.direction}function K(){M.gap=M.duplicated?parseInt(M.gap,10):0}function B(){M.duplicated&&(M.duration=M.duration/2)}function D(){y(),j(),N(),K(),V(),I(),B(),b(),v()}function O(){L.container.element.on({pause:T.pause,resume:T.resume}),M.pauseOnHover&&L.container.element.on({mouseenter:T.pause,mouseleave:T.resume})}function _(){L.animation.cssAnimationSupport&&M.allowCss3Support?w():S()}function P(){return"string"==typeof n?(e.isFunction(T[n])&&(L.outerWrapper.element||(L.outerWrapper.element=L.container.element.find(".js-marquee-wrapper")),L.container.element.data("css3AnimationIsSupported")===!0&&(L.animation.cssAnimationSupport=!0),T[n]()),!0):!1}var M=e.extend({},e.fn.marquee.defaults,n),E={marquee:{container:{element:null,width:0,height:0},outerWrapper:{element:null,width:0,height:0,animationCss:""},innerWrapper:{element:null,width:0,height:0},animation:{css:"",loopCounter:3,cssPlayState:"animation-play-state",cssAnimationSupport:!1,cssAnimationName:"",cssAnimationString:"animation",cssKeyframeString:""},isVertical:!1}},L=E.marquee;L.container.element=e(this);var T={pause:function(){L.animation.cssAnimationSupport&&M.allowCss3Support?L.outerWrapper.element.css(L.animation.cssPlayState,"paused"):e.fn.pause&&L.outerWrapper.element.pause(),L.container.element.data("runningStatus","paused"),L.container.element.trigger("paused")},resume:function(){L.animation.cssAnimationSupport&&M.allowCss3Support?L.outerWrapper.element.css(L.animation.cssPlayState,"running"):e.fn.resume&&L.outerWrapper.element.resume(),L.container.element.data("runningStatus","resumed"),L.container.element.trigger("resumed")},toggle:function(){T["resumed"===L.container.element.data("runningStatus")?"pause":"resume"]()},destroy:function(){clearTimeout(L.container.element.timer),L.container.element.find("*").addBack().off(),L.container.element.html(L.container.element.find(".js-marquee:first").html())}};P()||(D(),O(),_())})},e.fn.marquee.defaults={allowCss3Support:!0,css3easing:"linear",easing:"linear",delayBeforeStart:1e3,direction:"left",duplicated:!1,duration:5e3,speed:0,gap:20,pauseOnCycle:!1,pauseOnHover:!1,startVisible:!1}});
